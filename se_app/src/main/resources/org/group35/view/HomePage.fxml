<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.shape.SVGPath?>

<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="org.group35.view.HomeController"
      stylesheets="@HomePage.css"
      styleClass="root-container">

    <!-- Navigation Bar and Avatar -->
    <HBox styleClass="nav-row" alignment="CENTER_LEFT" spacing="10">
        <HBox spacing="20" styleClass="nav-bar">
            <!-- Dashboard -->
            <Button text="Dashboard" styleClass="nav-button">
                <graphic>
                    <SVGPath content="M19,5V7H15V5H19M9,5V11H5V5H9M19,13V19H15V13H19M9,17V19H5V17H9M21,3H13V9H21V3M11,3H3V13H11V3M21,11H13V21H21V11M11,15H3V21H11V15Z"
                             styleClass="nav-icon"/>
                </graphic>
            </Button>
            <!-- Spending -->
            <Button text="Spending" styleClass="nav-button" onAction="#gotoSpending">
                <graphic>
                    <SVGPath content="M3,6H21V18H3V6M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M7,8A2,2 0 0,1 5,10V14A2,2 0 0,1 7,16H17A2,2 0 0,1 19,14V10A2,2 0 0,1 17,8H7Z"
                             styleClass="nav-icon"/>
                </graphic>
            </Button>
            <!-- Plan -->
            <Button text="Plan" styleClass="nav-button">
                <graphic>
                    <SVGPath content="M19 3H18V1H16V3H8V1H6V3H5C3.89 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.9 20.11 3 19 3M19 19H5V9H19V19M19 7H5V5H19V7Z"
                             styleClass="nav-icon"/>
                </graphic>
            </Button>
            <!-- More -->
            <Button text="More" styleClass="nav-button">
                <graphic>
                    <SVGPath content="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,13C9.33,13 4,14.33 4,17V20H20V17C20,14.33 14.67,13 12,13Z"
                             styleClass="nav-icon"/>
                </graphic>
            </Button>
        </HBox>

        <Region HBox.hgrow="ALWAYS"/>

        <!-- Avatar + User Info -->
        <HBox spacing="10" alignment="CENTER_RIGHT">
            <VBox alignment="CENTER_RIGHT" spacing="2">
                <Label text="Username" styleClass="avatar-name"/>
                <Button text="Logout" styleClass="avatar-logout"/>
            </VBox>
            <StackPane styleClass="avatar-container">
                <ImageView fx:id="avatarImage"
                           fitWidth="40" fitHeight="40"
                           styleClass="avatar-image"/>
            </StackPane>
        </HBox>
    </HBox>

    <!-- Greeting Row + Edit Button -->
    <HBox styleClass="greeting-row" alignment="CENTER_LEFT" spacing="10">
        <VBox spacing="4">
            <Label text="Good afternoon!" styleClass="greeting-label"/>
            <Label text="Not sure what to do? Take a quick tutorial." styleClass="info-label"/>
        </VBox>
        <Region HBox.hgrow="ALWAYS"/>
        <Button text="Edit Widget" styleClass="edit-button">
            <graphic>
                <SVGPath content="M14.06,9L15,9.94L5.92,19H5V18.08L14.06,9M17.66,3C17.41,3 17.15,3.1 16.96,3.29L15.13,5.12L18.88,8.87L20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18.17,3.09 17.92,3 17.66,3M14.06,6.19L3,17.25V21H6.75L17.81,9.94L14.06,6.19Z"
                         styleClass="edit-icon"/>
            </graphic>
        </Button>
    </HBox>

    <!-- Chart Row -->
    <GridPane styleClass="chart-row" hgap="20">
        <columnConstraints>
            <ColumnConstraints percentWidth="65"/>
            <ColumnConstraints percentWidth="35"/>
        </columnConstraints>

        <!-- Left: Line chart -->
        <VBox spacing="10" GridPane.columnIndex="0">
            <Label text="Spending distribution" styleClass="chart-title"/>
            <LineChart fx:id="spendingChart">
                <xAxis>
                    <CategoryAxis fx:id="xAxis" label="Month"/>
                </xAxis>
                <yAxis>
                    <NumberAxis fx:id="yAxis" label="Amount"/>
                </yAxis>
            </LineChart>
        </VBox>

        <!-- Right: Pie chart -->
        <VBox spacing="10" GridPane.columnIndex="1">
            <Label text="Category" styleClass="chart-title"/>
            <PieChart fx:id="categoryPieChart" styleClass="pie-chart"/>
        </VBox>
    </GridPane>


</VBox>
